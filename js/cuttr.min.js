/*!
 * Cuttr 1.4.1
 * https://github.com/d-e-v-s-k/cuttr-js
 *
 * @license GPLv3 for open source use only
 * or Cuttr Commercial License for commercial use
 * https://cuttr.kulahs.de/pricing/
 *
 * Copyright (C) 2022 https://cuttr.kulahs.de/ - A project by DEVSK
 **/
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Cuttr=e()}(this,function(){var c=!0;return function t(e,n){"use strict";var T=Object.create(t.prototype);T.options={elementsToTruncate:"string"==typeof e?document.querySelectorAll(e):e,originalContent:[],contentVisibilityState:[],contentTruncationState:[],truncate:"characters",length:100,ending:"...",loadedClass:"cuttr--loaded",title:!1,readMore:!1,readMoreText:"read more",readLessText:"read less",readMoreBtnPosition:"after",readMoreBtnTag:"button",readMoreBtnSelectorClass:"cuttr__readmore",readMoreBtnAdditionalClasses:"",afterTruncate:function(){},afterExpand:function(){},dataIndex:"data-cuttr-index"},n&&Object.keys(n).forEach(function(t){T.options[t]=n[t]});function f(t,e,n,o){var i=t.dataset.cuttrIndex;switch(null==n&&(n=100),null==o&&(o="..."),t.dataset.cuttrMethod?t.dataset.cuttrMethod:T.options.truncate){case"characters":return e.length>n?(T.options.contentTruncationState[i]=!0,T.options.contentVisibilityState[i]=!1,e.substring(0,n-o.length)+o+" "):e;case"words":var a=e.split(/ (?=[^>]*(?:<|$))/);return a.length>n?(T.options.contentTruncationState[i]=!0,T.options.contentVisibilityState[i]=!1,a.splice(0,n).join(" ")+" "+o+" "):e;case"sentences":var r=e.match(/[^\.!\?]+[\.!\?]+/g);return r.length>n?(T.options.contentTruncationState[i]=!0,T.options.contentVisibilityState[i]=!1,r.splice(0,n).join(" ")+" "+o+" "):e;default:return e.length>n?(T.options.contentTruncationState[i]=!0,T.options.contentVisibilityState[i]=!1,e.substring(0,n-o.length)+o):e}}function m(t,e){var n,o=t,i=o.dataset.cuttrIndex,a=o.dataset.cuttrReadmore?o.dataset.cuttrReadmore:T.options.readMoreText,r=o.dataset.cuttrReadmore?o.dataset.cuttrReadless:T.options.readLessText,s=o.dataset.cuttrReadmorePosition?o.dataset.cuttrReadmorePosition:T.options.readMoreBtnPosition,d=o.dataset.cuttrReadmoreTag?o.dataset.cuttrReadmoreTag:T.options.readMoreBtnTag,c="."+T.options.readMoreBtnSelectorClass,l=o.dataset.cuttrReadmoreAdditionalClasses?o.dataset.cuttrReadmoreAdditionalClasses:T.options.readMoreBtnAdditionalClasses,u=T.options.contentVisibilityState[i]?r:a,p=" <"+d+' aria-expanded="'+(T.options.contentVisibilityState[i]?"true":"false")+'" class="'+T.options.readMoreBtnSelectorClass+" "+l+'">'+u.replace(/<[^>]*>/g,"")+"</"+d+">";if("after"==s&&o.nextElementSibling?n=o.nextElementSibling.matches(c):"inside"==s&&(n=o.querySelector(c)),!n){switch(s){case"after":o.insertAdjacentHTML("afterend",p);break;case"inside":o.insertAdjacentHTML("beforeend",p);break;default:console.log("no matching read-more button position defined")}e||("after"==s?o.nextElementSibling.addEventListener("click",function(t){t.target&&t.target.classList.contains(T.options.readMoreBtnSelectorClass)&&g(t,s)}):"inside"==s&&o.addEventListener("click",function(t){t.target&&t.target.classList.contains(T.options.readMoreBtnSelectorClass)&&g(t,s)}))}}function g(t,e){var n,o="after"==e?t.target.previousElementSibling:t.target.parentNode,i=o.innerHTML,a=o.dataset.cuttrIndex,r=o.dataset.cuttrReadmore?o.dataset.cuttrReadmore:T.options.readMoreText,s=o.dataset.cuttrReadmore?o.dataset.cuttrReadless:T.options.readLessText,d=o.dataset.cuttrLength?o.dataset.cuttrLength:T.options.length,c=o.dataset.cuttrEnding?o.dataset.cuttrEnding:T.options.ending;T.options.contentVisibilityState[a]?(n=f(o,i.trim(),d,c),o.innerHTML=n,T.options.contentVisibilityState[a]=!1,"inside"==e&&T.options.readMore&&m(o,!0),t.target.innerHTML=r.replace(/<[^>]*>/g,""),T.options.afterTruncate.call(o)):(o.innerHTML=T.options.originalContent[a],T.options.contentVisibilityState[a]=!0,"inside"==e&&T.options.readMore&&m(o,!0),t.target.innerHTML=s.replace(/<[^>]*>/g,""),T.options.afterExpand.call(o))}function d(t,e){window.console&&window.console[t]&&window.console[t]("Cuttr: "+e)}return T.expandContent=function(t,e){for(var n=t?document.querySelectorAll(t):T.options.elementsToTruncate,o=0;o<n.length;o++){var i=n[o],a=(i.innerHTML,i.dataset.cuttrIndex),r=i.dataset.cuttrReadmore?i.dataset.cuttrReadless:T.options.readLessText,s=e||T.options.readMoreBtnPosition,d="."+T.options.readMoreBtnSelectorClass,c=void 0;T.options.contentVisibilityState[a]||(i.innerHTML=T.options.originalContent[a],T.options.contentVisibilityState[a]=!0,T.options.readMore&&("inside"==s&&m(i,!0),"after"==s?c=i.nextElementSibling:"inside"==s&&(c=i.querySelector(d)),c&&(c.innerHTML=r.replace(/<[^>]*>/g,""))),T.options.afterExpand.call(i))}},T.truncateContent=function(t,e){for(var n=t?document.querySelectorAll(t):T.options.elementsToTruncate,o=0;o<n.length;o++){var i,a=n[o],r=a.innerHTML,s=a.dataset.cuttrIndex,d=a.dataset.cuttrReadmore?a.dataset.cuttrReadmore:T.options.readMoreText,c=e||T.options.readMoreBtnPosition,l="."+T.options.readMoreBtnSelectorClass,u=a.dataset.cuttrLength?a.dataset.cuttrLength:T.options.length,p=a.dataset.cuttrEnding?a.dataset.cuttrEnding:T.options.ending,g=void 0;T.options.contentVisibilityState[s]&&(i=f(a,r.trim(),u,p),a.innerHTML=i,T.options.contentVisibilityState[s]=!1,T.options.readMore&&("inside"==c&&m(a,!0),"after"==c?g=a.nextElementSibling:"inside"==c&&(g=a.querySelector(l)),g&&(g.innerHTML=d.replace(/<[^>]*>/g,""))),T.options.afterTruncate.call(a))}},T.destroy=function(t,e){var n;T.expandContent(t,e),n=t?document.querySelectorAll(t):T.options.elementsToTruncate;for(var o=0;o<n.length;o++){var i=n[o],a=(i.innerHTML,i.dataset.cuttrIndex),r=e||T.options.readMoreBtnPosition,s="."+T.options.readMoreBtnSelectorClass,d=void 0;T.options.contentVisibilityState[a]=!0,T.options.readMore&&("inside"==r&&m(i,!0),"after"==r?d=i.nextElementSibling:"inside"==r&&(d=i.querySelector(s)),d&&d.parentNode.removeChild(d)),i.classList.remove(T.options.loadedClass),i.removeAttribute(T.options.dataIndex),i=null}},function(){(function(){var t=T.options&&new RegExp("([\\d\\w]{8}-){3}[\\d\\w]{8}|^(?=.*?[A-Y])(?=.*?[a-y])(?=.*?[0-8])(?=.*?[#?!@$%^&*-]).{8,}$").test(T.options.licenseKey)||-1<document.domain.indexOf("cuttr.kulahs.de");{if(!T.options.elementsToTruncate)return;!function(t){!t&&c&&(c=!1,d("error","Cuttr.js has a GPLv3 license and it requires a `licenseKey` option. Read about it here:"),d("error","https://github.com/d-e-v-s-k/cuttr-js#options"))}(t)}"length"in T.options.elementsToTruncate||(T.options.elementsToTruncate=[T.options.elementsToTruncate]);for(var e=0;e<T.options.elementsToTruncate.length;e++){var n=T.options.elementsToTruncate[e],o=n.innerHTML,i=n.dataset.cuttrLength?n.dataset.cuttrLength:T.options.length,a=n.dataset.cuttrEnding?n.dataset.cuttrEnding:T.options.ending,r=n.dataset.cuttrTitle?n.dataset.cuttrTitle:T.options.title,s=void 0;n.setAttribute(T.options.dataIndex,e),T.options.originalContent.push(o),s=f(n,o.trim(),i,a),r&&(n.title=n.textContent.trim()),n.innerHTML=s,T.options.contentTruncationState[e]&&(T.options.readMore&&m(n),n.classList+=" "+T.options.loadedClass),T.options.afterTruncate.call(n)}}).call(this)}(),T}}),window.jQuery&&window.Cuttr&&function(o,i){"use strict";o&&i?o.fn.Cuttr=function(n){return this.each(function(t,e){n=o.extend({},n,{$:o}),o.data(e,"Cuttr")||o.data(e,"Cuttr",new i(e,n))})}:console.log("ERROR - jQuery is required to use the jQuery Cuttr adapter!")}(window.jQuery,window.Cuttr);
//# sourceMappingURL=cuttr.min.js.map
